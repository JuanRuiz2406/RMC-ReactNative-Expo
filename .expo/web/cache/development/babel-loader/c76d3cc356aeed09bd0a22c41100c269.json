{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\Front-End-RMC-Expo\\\\components\\\\screens\\\\reports.js\";\n\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ActivityIndicator from \"./activityIndicator\";\nimport { List } from \"../report/index\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nexport default (function (_ref) {\n  var navigate = _ref.navigation.navigate;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      reports = _useState4[0],\n      setReports = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      refreshing = _useState6[0],\n      setRefreshing = _useState6[1];\n\n  useEffect(function () {\n    fetchReports();\n  }, [refreshing]);\n  var fetchReports = useCallback(function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.t0 = _regeneratorRuntime;\n            _context.t1 = fetch;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"userToken\"));\n\n          case 4:\n            _context.t2 = _context.sent;\n            _context.t3 = \"Bearer \" + _context.t2;\n            _context.t4 = {\n              Accept: \"application/json\",\n              Authorization: _context.t3\n            };\n            _context.t5 = {\n              headers: _context.t4\n            };\n            _context.t6 = (0, _context.t1)(\"http://192.168.0.8:8080/report/byPublicPrivacyAndVisibleState\", _context.t5).then(function (response) {\n              return response.json();\n            }).then(function (data) {\n              setLoading(false);\n              setRefreshing(false);\n              setReports(data);\n            });\n            _context.next = 11;\n            return _context.t0.awrap.call(_context.t0, _context.t6);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  });\n\n  var onPress = function onPress(report) {\n    navigate(\"Reporte Específico\", {\n      report: report,\n      canDelete: false\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, loading ? React.createElement(ActivityIndicator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }) : React.createElement(List, {\n    onRefresh: function onRefresh() {\n      return setRefreshing(true);\n    },\n    refreshing: refreshing,\n    reports: reports,\n    onPress: onPress,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }));\n});\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"stretch\",\n    justifyContent: \"center\"\n  }\n});","map":{"version":3,"sources":["C:/xampp/htdocs/Front-End-RMC-Expo/components/screens/reports.js"],"names":["React","useEffect","useState","useCallback","ActivityIndicator","List","AsyncStorage","navigate","navigation","loading","setLoading","reports","setReports","refreshing","setRefreshing","fetchReports","fetch","getItem","Accept","Authorization","headers","then","response","json","data","onPress","report","canDelete","styles","container","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,WAArC,QAAwD,OAAxD;;;AAEA,OAAOC,iBAAP;AACA,SAASC,IAAT;AACA,OAAOC,YAAP,MAAyB,uCAAzB;AAEA,gBAAe,gBAAkC;AAAA,MAAjBC,QAAiB,QAA/BC,UAA+B,CAAjBD,QAAiB;;AAAA,kBACjBL,QAAQ,CAAC,IAAD,CADS;AAAA;AAAA,MACxCO,OADwC;AAAA,MAC/BC,UAD+B;;AAAA,mBAEjBR,QAAQ,CAAC,EAAD,CAFS;AAAA;AAAA,MAExCS,OAFwC;AAAA,MAE/BC,UAF+B;;AAAA,mBAGXV,QAAQ,CAAC,KAAD,CAHG;AAAA;AAAA,MAGxCW,UAHwC;AAAA,MAG5BC,aAH4B;;AAK/Cb,EAAAA,SAAS,CAAC,YAAM;AACdc,IAAAA,YAAY;AACb,GAFQ,EAEN,CAACF,UAAD,CAFM,CAAT;AAIA,MAAME,YAAY,GAAGZ,WAAW,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACzBa,KADyB;AAAA;AAAA,6CAMSV,YAAY,CAACW,OAAb,CAAqB,WAArB,CANT;;AAAA;AAAA;AAAA,0BAMV,SANU;AAAA;AAKzBC,cAAAA,MALyB,EAKjB,kBALiB;AAMzBC,cAAAA,aANyB;AAAA;AAAA;AAI3BC,cAAAA,OAJ2B;AAAA;AAAA,2CAE7B,+DAF6B,eAU5BC,IAV4B,CAUvB,UAACC,QAAD;AAAA,qBAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,aAVuB,EAW5BF,IAX4B,CAWvB,UAACG,IAAD,EAAU;AACdd,cAAAA,UAAU,CAAC,KAAD,CAAV;AACAI,cAAAA,aAAa,CAAC,KAAD,CAAb;AACAF,cAAAA,UAAU,CAACY,IAAD,CAAV;AACD,aAf4B;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,CAAhC;;AAkBA,MAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,MAAD,EAAY;AAC1BnB,IAAAA,QAAQ,CAAC,oBAAD,EAAuB;AAC7BmB,MAAAA,MAAM,EAAEA,MADqB;AAE7BC,MAAAA,SAAS,EAAE;AAFkB,KAAvB,CAAR;AAID,GALD;;AAOA,SACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEC,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGpB,OAAO,GACN,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADM,GAGN,oBAAC,IAAD;AACE,IAAA,SAAS,EAAE;AAAA,aAAMK,aAAa,CAAC,IAAD,CAAnB;AAAA,KADb;AAEE,IAAA,UAAU,EAAED,UAFd;AAGE,IAAA,OAAO,EAAEF,OAHX;AAIE,IAAA,OAAO,EAAEc,OAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,CADF;AAcD,CAhDD;AAkDA,IAAMG,MAAM,GAAGE,UAAU,CAACC,MAAX,CAAkB;AAC/BF,EAAAA,SAAS,EAAE;AACTG,IAAAA,IAAI,EAAE,CADG;AAETC,IAAAA,eAAe,EAAE,MAFR;AAGTC,IAAAA,UAAU,EAAE,SAHH;AAITC,IAAAA,cAAc,EAAE;AAJP;AADoB,CAAlB,CAAf","sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\r\nimport { StyleSheet, View } from \"react-native\";\r\nimport ActivityIndicator from \"./activityIndicator\";\r\nimport { List } from \"../report/index\";\r\nimport AsyncStorage from \"@react-native-community/async-storage\";\r\n\r\nexport default ({ navigation: { navigate } }) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [reports, setReports] = useState([]);\r\n  const [refreshing, setRefreshing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchReports();\r\n  }, [refreshing]);\r\n\r\n  const fetchReports = useCallback(async () => {\r\n    await fetch(\r\n      \"http://192.168.0.8:8080/report/byPublicPrivacyAndVisibleState\",\r\n      {\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          Authorization: \"Bearer \" + (await AsyncStorage.getItem(\"userToken\")),\r\n        },\r\n      }\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setLoading(false);\r\n        setRefreshing(false);\r\n        setReports(data);\r\n      });\r\n  });\r\n\r\n  const onPress = (report) => {\r\n    navigate(\"Reporte Específico\", {\r\n      report: report,\r\n      canDelete: false,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {loading ? (\r\n        <ActivityIndicator />\r\n      ) : (\r\n        <List\r\n          onRefresh={() => setRefreshing(true)}\r\n          refreshing={refreshing}\r\n          reports={reports}\r\n          onPress={onPress}\r\n        />\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"#fff\",\r\n    alignItems: \"stretch\",\r\n    justifyContent: \"center\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}